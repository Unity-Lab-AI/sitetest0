function initializeAllFeatures(){try{if("undefined"!=typeof AOS)try{AOS.init({duration:1e3,easing:"ease-in-out",once:!0,mirror:!1,disable:function(){return window.innerWidth<768}})}catch(t){console.warn("AOS initialization failed:",t)}safeInit("Navbar",initNavbar),safeInit("Smooth Scroll",initSmoothScroll),safeInit("Scroll Indicator",initScrollIndicator),safeInit("Parallax",initParallax),safeInit("Form Validation",initFormValidation),safeInit("Hover Effects",initHoverEffects),safeInit("Mobile Menu",initMobileMenu)}catch(t){console.error("Error initializing features:",t)}}function safeInit(t,e){try{e()}catch(e){console.warn(`Failed to initialize ${t}:`,e)}}function initNavbar(){const t=document.querySelector(".navbar"),e=document.querySelectorAll(".nav-link");t?window.addEventListener("scroll",function(){window.scrollY>100?t.classList.add("scrolled"):t.classList.remove("scrolled"),function(){const t=document.querySelectorAll("section[id]"),i=window.pageYOffset;t.forEach(t=>{const n=t.offsetHeight,o=t.offsetTop-100,a=t.getAttribute("id");i>o&&i<=o+n&&e.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===`#${a}`&&t.classList.add("active")})})}()}):console.warn("Navbar not found, skipping navbar initialization")}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){var e=this.getAttribute("href");if("#"!==e&&e.length>1){t.preventDefault();var i=document.querySelector(e);if(i){var n=i.offsetTop-80;window.scrollTo({top:n,left:0,behavior:"smooth"});try{var o=document.querySelector(".navbar-collapse");if(o&&o.classList.contains("show")&&"undefined"!=typeof bootstrap&&bootstrap.Collapse){var a=bootstrap.Collapse.getInstance(o);a&&a.hide()}}catch(t){console.warn("Error closing mobile menu:",t)}}}})})}function initScrollIndicator(){const t=document.querySelector(".scroll-indicator");t&&(t.addEventListener("click",function(){const t=document.querySelector("#about");t&&t.scrollIntoView({behavior:"smooth"})}),window.addEventListener("scroll",function(){window.scrollY>100?(t.style.opacity="0",t.style.pointerEvents="none"):(t.style.opacity="1",t.style.pointerEvents="auto")}))}function initParallax(){if(window.innerWidth>992&&!isTouchDevice()){var t=!1;window.addEventListener("scroll",function(){t||(window.requestAnimationFrame(function(){var e=window.pageYOffset||document.documentElement.scrollTop,i=document.querySelector(".hero-content");if(i&&e<800){var n=.5*e,o=1-e/600;i.style.webkitTransform="translateY("+n+"px)",i.style.mozTransform="translateY("+n+"px)",i.style.msTransform="translateY("+n+"px)",i.style.oTransform="translateY("+n+"px)",i.style.transform="translateY("+n+"px)",i.style.opacity=Math.max(0,o)}t=!1}),t=!0)})}}function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function initFormValidation(){const t=document.querySelector(".contact-form");if(t){t.addEventListener("submit",function(e){e.preventDefault();const i=this.querySelectorAll(".gothic-input");let n=!0;i.forEach(t=>{""===t.value.trim()?(n=!1,t.style.borderColor="#ff0033",setTimeout(()=>{t.style.borderColor="rgba(220, 20, 60, 0.3)"},2e3)):t.style.borderColor="#dc143c"}),n?(showNotification("Message sent successfully!","success"),t.reset()):showNotification("Please fill in all fields.","error")});t.querySelectorAll(".gothic-input").forEach(t=>{t.addEventListener("focus",function(){this.parentElement.classList.add("focused")}),t.addEventListener("blur",function(){this.parentElement.classList.remove("focused")})})}}function showNotification(t,e){const i=document.createElement("div");i.className=`notification notification-${e}`,i.textContent=t,i.style.cssText=`\n        position: fixed;\n        top: 100px;\n        right: 20px;\n        padding: 20px 30px;\n        background: ${"success"===e?"#dc143c":"#ff0033"};\n        color: white;\n        font-family: 'Cinzel', serif;\n        border-radius: 0;\n        z-index: 10000;\n        animation: slideInRight 0.5s ease;\n        box-shadow: 0 5px 30px rgba(220, 20, 60, 0.5);\n    `,document.body.appendChild(i),setTimeout(()=>{i.style.animation="slideOutRight 0.5s ease",setTimeout(()=>{i.remove()},500)},3e3)}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),function(){if(!("scrollBehavior"in document.documentElement.style)){window.HTMLElement||window.Element;var t=window.scrollTo;function e(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}window.scrollTo=function(){if(1===arguments.length&&"object"==typeof arguments[0]){var i=arguments[0];"smooth"===i.behavior?(n=i.top||0,o=i.left||0,a=window.pageYOffset||document.documentElement.scrollTop,r=window.pageXOffset||document.documentElement.scrollLeft,s=n-a,l=o-r,c=(new Date).getTime(),h=400,d=setInterval(function(){var t=(new Date).getTime()-c,i=e(t,a,s,h),n=e(t,r,l,h);t>=h&&clearInterval(d),window.scroll(n,i)},1e3/60)):t.call(window,i.left||0,i.top||0)}else t.apply(window,arguments);var n,o,a,r,s,l,c,h,d}}}(),function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+n)},n);return t=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),document.addEventListener("DOMContentLoaded",function(){initializeAllFeatures()});const style=document.createElement("style");function initHoverEffects(){document.querySelectorAll(".feature-card").forEach(t=>{t.addEventListener("mouseenter",function(){this.style.transition="all 0.3s ease"}),t.addEventListener("mousemove",function(t){const e=this.getBoundingClientRect(),i=t.clientX-e.left,n=t.clientY-e.top,o=e.width/2,a=(n-e.height/2)/20,r=(o-i)/20;this.style.transform=`translateY(-10px) rotateX(${a}deg) rotateY(${r}deg)`}),t.addEventListener("mouseleave",function(){this.style.transform="translateY(0) rotateX(0) rotateY(0)"})});document.querySelectorAll(".gallery-item").forEach(t=>{t.addEventListener("mouseenter",function(){this.style.boxShadow="0 10px 60px rgba(220, 20, 60, 0.7)"}),t.addEventListener("mouseleave",function(){this.style.boxShadow="none"})})}function initSmokeEffect(){var t=document.createElement("canvas");t.id="smoke-canvas",t.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;",document.body.appendChild(t);var e=t.getContext("2d"),i=500,n=[],o=[],a=0,r=0,s=0,l=0,c=0,h=0,d=Date.now(),u=!1,f=!1,m=0,p=0,v=0,y=null,w=[];function g(){t.width=window.innerWidth,t.height=window.innerHeight,M()}function M(){w=[],document.querySelectorAll("h1, h2, h3, h4, h5, h6, p, a, span, li, button, .nav-link, .section-title, .gothic-title").forEach(function(t){var e=t.getBoundingClientRect(),i=200;e.width>0&&e.height>0&&e.bottom>-200&&e.top<window.innerHeight+i&&e.right>-200&&e.left<window.innerWidth+i&&w.push({x:e.left,y:e.top,width:e.width,height:e.height,centerX:e.left+e.width/2,centerY:e.top+e.height/2,influenceRange:Math.max(e.width,e.height)/2+50})})}g(),window.addEventListener("resize",g),M();var x=0;window.addEventListener("scroll",function(){var t=Date.now();t-x>500&&(M(),x=t)},{passive:!0}),setInterval(M,3e3);for(var b=0;b<1e3;b++)o.push(E());function E(){return{x:0,y:0,velocityX:0,velocityY:0,size:0,maxSize:0,alpha:0,life:0,decayRate:0,growRate:0,type:"normal",rotation:0,rotationSpeed:0,active:!1,accumulated:!1,targetX:0,targetY:0}}function S(t,e,i,s,l,c){for(var h,d=0;d<o.length;d++)if(!o[d].active){h=o[d];break}return h||(h=n.shift()||{x:0,y:0,velocityX:0,velocityY:0,size:0,maxSize:0,alpha:0,life:0,decayRate:0,growRate:0,type:"normal",rotation:0,rotationSpeed:0,active:!1,accumulated:!1,targetX:0,targetY:0}),h.active=!0,h.x=t,h.y=e,h.velocityX=void 0!==i?i:.5*(Math.random()-.5),h.velocityY=void 0!==s?s:1.5*-Math.random()-.5,h.size=l||15*Math.random()+8,h.maxSize=3.5*h.size,h.alpha=.7,h.life=1,h.type=c||"normal",h.decayRate="puff"===c?.006:"wisp"===c?.015:.01,h.growRate="puff"===c?.9:"wisp"===c?.2:.35,h.rotation=Math.random()*Math.PI*2,h.rotationSpeed=.03*(Math.random()-.5),h.accumulated=!1,h.targetX=a,h.targetY=r,h}function z(e){if(!e.active)return!1;if(e.accumulated){var i=e.targetX-e.x,n=e.targetY-e.y;Math.sqrt(i*i+n*n)>5?(e.velocityX=.08*i,e.velocityY=.08*n):(e.velocityX*=.95,e.velocityY*=.95)}else{i=a-e.x,n=r-e.y;var o=Math.sqrt(i*i+n*n);if(o<150&&u&&!f){var s=(150-o)/150*.3;e.velocityX+=i/o*s*c*.01,e.velocityY+=n/o*s*h*.01}for(var l=0;l<w.length;l++){var d=w[l],m=d.influenceRange+e.size;if(!(Math.abs(e.x-d.centerX)>m||Math.abs(e.y-d.centerY)>m)){var p=e.x-d.centerX,v=e.y-d.centerY,y=p*p+v*v;if(y<d.influenceRange*d.influenceRange){var g=Math.sqrt(y);if(e.x>=d.x&&e.x<=d.x+d.width&&e.y>=d.y&&e.y<=d.y+d.height){e.velocityX+=p/g*.8,e.velocityY+=v/g*.8}else{var M=Math.atan2(v,p),x=(d.influenceRange-g)/d.influenceRange*.15;e.velocityX+=Math.cos(M+Math.PI/2)*x,e.velocityY+=Math.sin(M+Math.PI/2)*x,e.velocityX+=p/g*x*.5,e.velocityY+=v/g*x*.5}}}}e.velocityX*=.98,e.velocityY-=.02,e.velocityX+=.02*(Math.random()-.5)}e.y+=e.velocityY,e.x+=e.velocityX;var b=.6,E=e.size;return e.x-E<0&&(e.x=E,e.velocityX=Math.abs(e.velocityX)*b,e.life-=.05),e.x+E>t.width&&(e.x=t.width-E,e.velocityX=-Math.abs(e.velocityX)*b,e.life-=.05),e.y-E<0&&(e.y=E,e.velocityY=Math.abs(e.velocityY)*b,e.life-=.05),e.y+E>t.height&&(e.y=t.height-E,e.velocityY=-Math.abs(e.velocityY)*b,e.life-=.05),e.size<e.maxSize&&(e.size+=e.growRate),e.life-=e.decayRate,e.alpha=.7*e.life,e.rotation+=e.rotationSpeed,e.life>0}function Y(t){if(t.active){e.save(),e.translate(t.x,t.y),e.rotate(t.rotation);var i=e.createRadialGradient(0,0,0,0,0,t.size);"wisp"===t.type?(i.addColorStop(0,"rgba(130, 130, 130, "+t.alpha+")"),i.addColorStop(.3,"rgba(100, 100, 100, "+.7*t.alpha+")"),i.addColorStop(.6,"rgba(70, 70, 70, "+.4*t.alpha+")"),i.addColorStop(1,"rgba(40, 40, 40, 0)")):(i.addColorStop(0,"rgba(110, 110, 110, "+t.alpha+")"),i.addColorStop(.4,"rgba(85, 85, 85, "+.6*t.alpha+")"),i.addColorStop(.7,"rgba(60, 60, 60, "+.3*t.alpha+")"),i.addColorStop(1,"rgba(35, 35, 35, 0)")),e.fillStyle=i,e.globalCompositeOperation="screen",e.fillRect(-t.size,-t.size,2*t.size,2*t.size),e.globalCompositeOperation="source-over",e.restore()}}function X(t,e){this.x=t,this.y=e,this.size=15,this.maxSize=100,this.alpha=.8,this.growthRate=.8,this.particles=[]}function L(t,e,i,n,o){this.x=t,this.y=e,this.velocityX=i,this.velocityY=n,this.size=o||35,this.alpha=.9,this.active=!0,this.gravity=.15,this.drag=.98,this.smokeAmount=Math.floor(o/5)}X.prototype.update=function(t,e){if(this.x=t,this.y=e,this.size<this.maxSize&&(this.size+=this.growthRate,this.growthRate*=.99),Math.random()<.3&&n.length<i){var o=Math.random()*Math.PI*2,a=.7*this.size,r=S(this.x+Math.cos(o)*a,this.y+Math.sin(o)*a,.5*(Math.random()-.5),.5*-Math.random(),8*Math.random()+5,"wisp");this.particles.push(r),n.push(r)}},X.prototype.draw=function(){e.save();var t=.1*Math.sin(.005*Date.now())+.9,i=this.size*t,n=e.createRadialGradient(this.x,this.y,0,this.x,this.y,1.5*i);n.addColorStop(0,"rgba(150, 150, 150, "+.3*this.alpha+")"),n.addColorStop(.5,"rgba(120, 120, 120, "+.2*this.alpha+")"),n.addColorStop(1,"rgba(80, 80, 80, 0)"),e.fillStyle=n,e.beginPath(),e.arc(this.x,this.y,1.5*i,0,2*Math.PI),e.fill();var o=e.createRadialGradient(this.x,this.y,0,this.x,this.y,i);o.addColorStop(0,"rgba(160, 160, 160, "+this.alpha+")"),o.addColorStop(.5,"rgba(120, 120, 120, "+.7*this.alpha+")"),o.addColorStop(1,"rgba(80, 80, 80, "+.3*this.alpha+")"),e.fillStyle=o,e.beginPath(),e.arc(this.x,this.y,i,0,2*Math.PI),e.fill(),e.restore()},L.prototype.update=function(){this.velocityY+=this.gravity,this.velocityX*=this.drag,this.velocityY*=this.drag,this.x+=this.velocityX,this.y+=this.velocityY,this.alpha*=.98;var e=.7,o=!1;this.x-this.size<0&&(this.x=this.size,this.velocityX=Math.abs(this.velocityX)*e,o=!0),this.x+this.size>t.width&&(this.x=t.width-this.size,this.velocityX=-Math.abs(this.velocityX)*e,o=!0),this.y-this.size<0&&(this.y=this.size,this.velocityY=Math.abs(this.velocityY)*e,o=!0),this.y+this.size>t.height&&(this.y=t.height-this.size,this.velocityY=-Math.abs(this.velocityY)*e,o=!0);for(var a=0;a<w.length;a++){var r=w[a];if(this.x+this.size>r.x&&this.x-this.size<r.x+r.width&&this.y+this.size>r.y&&this.y-this.size<r.y+r.height)return this.explode(),!1}if(Math.random()<.4&&n.length<i){var s=S(this.x+(Math.random()-.5)*this.size*.5,this.y+(Math.random()-.5)*this.size*.5,.3*this.velocityX+.5*(Math.random()-.5),.3*this.velocityY+.5*(Math.random()-.5),10*Math.random()+5,"wisp");n.push(s)}return Math.sqrt(this.velocityX*this.velocityX+this.velocityY*this.velocityY)<.5&&o||this.alpha<.1?(this.explode(),!1):this.active},L.prototype.draw=function(){e.save();for(var t=0;t<2;t++){var i=this.size*(1+.3*t),n=this.alpha*(1-.5*t),o=e.createRadialGradient(this.x,this.y,0,this.x,this.y,i);o.addColorStop(0,"rgba(140, 140, 140, "+n+")"),o.addColorStop(.5,"rgba(100, 100, 100, "+.6*n+")"),o.addColorStop(1,"rgba(60, 60, 60, 0)"),e.fillStyle=o,e.beginPath(),e.arc(this.x,this.y,i,0,2*Math.PI),e.fill()}e.restore()},L.prototype.explode=function(){for(var t=Math.min(30+2*this.smokeAmount,50),e=0;e<t&&!(n.length>=i);e++){var o=2*Math.PI*e/t,a=5*Math.random()+3,r=S(this.x,this.y,Math.cos(o)*a+.3*this.velocityX,Math.sin(o)*a+.3*this.velocityY,25*Math.random()+15,"puff");n.push(r)}this.active=!1};var C=[];function A(t,e){s=a,l=r,a=t,r=e;var i=Date.now(),n=i-d;n>0&&(c=(a-s)/n*16,h=(r-l)/n*16),d=i,u=!0}document.addEventListener("mousemove",function(t){A(t.clientX,t.clientY)}),document.addEventListener("mousedown",function(t){f=!0,m=Date.now(),p=t.clientX,v=t.clientY,y=new X(t.clientX,t.clientY)}),document.addEventListener("mouseup",function(t){if(f){f=!1;var e=Date.now()-m,o=Math.sqrt(Math.pow(t.clientX-p,2)+Math.pow(t.clientY-v,2));if(y){var a=Math.sqrt(c*c+h*h);if(e<200&&o<10)for(var r=Math.min(20,i-n.length),s=0;s<r;s++){var l=2*Math.PI*s/r,d=2.5*Math.random()+1,u=S(t.clientX+10*(Math.random()-.5),t.clientY+10*(Math.random()-.5),Math.cos(l)*d,Math.sin(l)*d-.8,18*Math.random()+10,"puff");n.push(u)}else if(o>30&&a>2)C.push(new L(y.x,y.y,.8*c,.8*h,y.size));else{new L(y.x,y.y,0,0,y.size).explode()}y=null}}}),document.addEventListener("touchstart",function(t){if(t.touches.length>0){var e=t.touches[0];f=!0,m=Date.now(),p=e.clientX,v=e.clientY,A(e.clientX,e.clientY),y=new X(e.clientX,e.clientY)}},{passive:!0}),document.addEventListener("touchmove",function(t){if(t.touches.length>0){var e=t.touches[0];A(e.clientX,e.clientY)}},{passive:!0}),document.addEventListener("touchend",function(t){if(f&&y){var e=Date.now()-m,o=Math.sqrt(Math.pow(a-p,2)+Math.pow(r-v,2)),s=Math.sqrt(c*c+h*h);if(e<200&&o<10)for(var l=Math.min(20,i-n.length),d=0;d<l;d++){var w=2*Math.PI*d/l,g=2.5*Math.random()+1,M=S(a+10*(Math.random()-.5),r+10*(Math.random()-.5),Math.cos(w)*g,Math.sin(w)*g-.8,18*Math.random()+10,"puff");n.push(M)}else if(o>30&&s>2)C.push(new L(y.x,y.y,.8*c,.8*h,y.size));else{new L(y.x,y.y,0,0,y.size).explode()}y=null}f=!1,u=!1},{passive:!0}),function i(){e.clearRect(0,0,t.width,t.height),y&&f&&(y.update(a,r),y.draw());for(var o=[],s=0;s<n.length;s++)z(n[s])?(Y(n[s]),o.push(n[s])):n[s].active=!1;n=o;var l=[];for(s=0;s<C.length;s++)C[s].update()&&(C[s].draw(),l.push(C[s]));C=l,requestAnimationFrame(i)}()}function initMobileMenu(){try{var t=document.querySelector(".navbar-toggler"),e=document.querySelector(".navbar-collapse");t&&e&&(document.addEventListener("click",function(i){try{if(!(t.contains(i.target)||e.contains(i.target))&&e.classList.contains("show")&&"undefined"!=typeof bootstrap&&bootstrap.Collapse){var n=bootstrap.Collapse.getInstance(e);n&&n.hide()}}catch(t){console.warn("Error handling menu click:",t)}}),t.addEventListener("click",function(){try{setTimeout(function(){e.classList.contains("show")?document.body.style.overflow="hidden":document.body.style.overflow=""},350)}catch(t){console.warn("Error toggling body scroll:",t)}}))}catch(t){console.warn("Mobile menu initialization failed:",t)}}function enhanceRedStreaks(){const t=document.querySelector(".red-streaks");if(t){let e=.02;window.addEventListener("scroll",function(){const i=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight);e=.02+.05*i,t.style.opacity=Math.min(1,.5+i)})}}function getViewportSize(){return{width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}function prefersReducedMotion(){return window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}style.textContent="\n    @keyframes slideInRight {\n        from {\n            transform: translateX(400px);\n            opacity: 0;\n        }\n        to {\n            transform: translateX(0);\n            opacity: 1;\n        }\n    }\n\n    @keyframes slideOutRight {\n        from {\n            transform: translateX(0);\n            opacity: 1;\n        }\n        to {\n            transform: translateX(400px);\n            opacity: 0;\n        }\n    }\n",document.head.appendChild(style),enhanceRedStreaks(),function(){var t=0,e=!1;window.addEventListener("scroll",function(){var i=window.pageYOffset||document.documentElement.scrollTop;e||(window.requestAnimationFrame(function(){Math.abs(i-t)>5&&(t=i),e=!1}),e=!0)},{passive:!0})}(),function(){var t;window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(function(){var t=getViewportSize();"undefined"!=typeof AOS&&t.width>=768&&AOS.refresh()},250)})}(),window.addEventListener("error",function(t){return console.error("Global error caught:",t.error),t.preventDefault(),!0}),window.addEventListener("unhandledrejection",function(t){console.error("Unhandled promise rejection:",t.reason),t.preventDefault()}),console.log("%cðŸ§  UnityAILab ðŸ§ ","color: #dc143c; font-size: 24px; font-weight: bold;"),console.log("%cPushing AI to its limits...","color: #cccccc; font-size: 14px;");